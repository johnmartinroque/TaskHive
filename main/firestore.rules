rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow public read and write access to the 'tasks' collection for anyone
    match /tasks/{document=**} {
      allow read, write: if true; // Allows anyone to read, create, update, and delete documents in 'tasks'
    }

    // If you also have a 'groups' collection and want to allow public CRUD access
    match /groups/{document=**} {
      allow read, write: if true; // Allows anyone to read, create, update, and delete documents in 'groups'
    }
    
    match /messages/{document=**} {
  allow read, write: if true;
}

    // Keep other rules as they are, or apply similar public access if needed
    // For other collections, you might want to keep them restricted by default:
    match /{document=**} {
      allow read, write: if false; // This applies to any collection not explicitly matched above, denying access
    }
     match /invitations/{docId} {
      allow create: if request.auth != null;
      allow read: if request.auth != null;
    }
    
    match /invitations/{inviteId} {
  allow read, delete: if request.auth != null && request.auth.uid == resource.data.inviteeId;
  allow create: if request.auth != null;
}
    match /users/{userId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
  }
}